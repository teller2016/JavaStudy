# 학점 산출 프로그램 만들기

## Step1 - 문제 정의하기

- 학생이 수업을 듣고 시험을 본 후 받은 점수에 따라 학점을 산출하는 과정을 구현

### 프로그램 시나리오

- Good School이라는 학교 존재

- 학교에는 5명의 학생이 수업을 듣는다

- 과목은 국어, 수학이 있다

  - 학생은 두 과목을 모두 수강
  - **컴퓨터공학**은 `수학`이 필수 과목
  - **국어국문학과**는 `국어`가 필수 과목

- 학점 부여 방법

  > 학점 부여 정책 2가지
  >
  > 일반 과목은 A~F
  >
  > 필수 과목은 S~F로 분류

**과목을 새로 추가하거나 학점 평가 정책을 추가해도 유연하게 확장할 수 있는 객체 지향 프로그램을 개발해본다**



## Step1 - 클래스 정의하고 관계도 그리기

### 필요한 클래스 생각해 보기

- 학생 클래스는 **학번, 이름, 전공, 필수 과목, 수강한 과목 성적** 등이 있다

  - **BUT 모든 과목 점수를 하나하나 멤버 변수로 정의하면 사용하지 않는 변수가 생길 수 있으며, 변수가 너무 많아질 수 있다**
  - **학생 클래스, 과목 클래스, 점수 클래스**로 분리하면 효율적으로 구현 가능 (`참조 자료형을 변수로 가지도록 한다`)

  > Student 클래스
  >
  > - 학번
  > - 학생 이름
  > - 필수 과목
  > - 수강한 과목 점수 리스트
  >
  > Subject 클래스
  >
  > - 과목 이름
  > - 과목 고유 번호
  > - 학점 산출 방식
  > - 수강 신청한 학생 리스트
  >
  > Score 클래스
  >
  > - 학번
  > - 과목
  > - 점수

### 클래스 관계도 그리기

#### Student와 Score의 관계

- 학생 한 명은 여러 과목의 점수를 가지게 된다

  > `Student`1 ---- 0...*`Score`
  >
  > - Student가 0개부터 여러개의 Score를 가진다는 의미
  > - Score은 어떤 학생의 점수인지에 대한 정보를 가져야 하므로 한 명의 학생 정보(학번)를 가지게 된다

#### Student와 Subject의 관계

- 학생은 여러 과목을 신청한다

- 한 과목에는 여러 명의 수강생이 있다

- **학생 클래스에 여러 과목을 포함할지, 과목 클래스에 여러 학생을 포함할지 결정해야된다**

- 학생이 과목을 수강 신청하고, 과목 단위로 성적을 처리하도록 구현

  > `Student`0...* ---- 1`Subject`
  >
  > - 과목이 여러 학생을 포함하는 관계로 표현
  > - 학생마다 한 개의 필수 과목을 가진다

#### Subject와 Score의 관계

- Score 클래스는 '어느 학생의 어느 과목 점수가 몇 점이다'를 구현

  - Score 클래스는 하나의 Subject를 포함한다

  > `Score` ---- 1`Subject`

#### Student, Score, Subject의 관계

- 학생은 점수 리스트를 가지고 있고, 과목은 학생 리스트를 가진다
- 각 점수는 과목과 학생 정보를 포함한다
- 학생은 하나의 필수 과목을 가진다

![학점 산출 프로그램 클래스 관계도](C:\ONEDRIVE\OneDrive - 아주대학교\Java Study\학점 산출 프로그램 클래스 관계도.PNG)

### 클래스 정의하기

#### 학생 클래스

```java
package school;

import java.util.ArrayList;

public class Student {
	private int studentId;
	private String studentName;
	private Subject majorSubject;	//필수 과목
	
	private ArrayList<Score> scoreList = new ArrayList<Score>();	//수강한 과목읠 점수 리스트, addSubjectScore()을 통해 리스트에 추가

	public Student(int studentId, String studentName, Subject majorSubject) {
		this.studentId = studentId;
		this.studentName = studentName;
		this.majorSubject = majorSubject;
	}

	public void addSubjectScore(Score score) {
		scoreList.add(score);
	}
	
	public int getStudentId() {
		return studentId;
	}

	public void setStudentId(int studentId) {
		this.studentId = studentId;
	}

	public String getStudentName() {
		return studentName;
	}

	public void setStudentName(String studentName) {
		this.studentName = studentName;
	}

	public Subject getMajorSubject() {
		return majorSubject;
	}

	public void setMajorSubject(Subject majorSubject) {
		this.majorSubject = majorSubject;
	}

	public ArrayList<Score> getScoreList() {
		return scoreList;
	}

	public void setScoreList(ArrayList<Score> scoreList) {
		this.scoreList = scoreList;
	}
}
```

### 과목 클래스

```java
package school;

import java.util.ArrayList;
import utils.Define;		//프로그램 전반에서 사용하는 상수 클래스

public class Subject {
	private String subjectName;	//과목 이름
	private int subjectId;		//과목 고유 번호
	private int gradeType;		//학점 평가 정책
	
	private ArrayList<Student> studentList = new ArrayList<Student>();	//이 과목을 수강 신청한 학생 리스트, register()를 통해 학생 추가

	public Subject(String subjectName, int subjectId, int gradeType) {
		this.subjectName = subjectName;
		this.subjectId = subjectId;
		this.gradeType = gradeType;
	}

	public String getSubjectName() {
		return subjectName;
	}

	public void setSubjectName(String subjectName) {
		this.subjectName = subjectName;
	}

	public int getSubjectId() {
		return subjectId;
	}

	public void setSubjectId(int subjectId) {
		this.subjectId = subjectId;
	}

	public int getGradeType() {
		return gradeType;
	}

	public void setGradeType(int gradeType) {
		this.gradeType = gradeType;
	}

	public ArrayList<Student> getStudentList() {
		return studentList;
	}

	public void setStudentList(ArrayList<Student> studentList) {
		this.studentList = studentList;
	}
	
	public void register(Student student) {		//수강 신청 메서드
		studentList.add(student);
	}
}
```

### 점수 클래스

```java
package school;

public class Score {
	int studentId;
	Subject subject;
	int point;
	
	public Score(int studentId, Subject subject, int point) {
		super();
		this.studentId = studentId;
		this.subject = subject;
		this.point = point;
	}

	public int getStudentId() {
		return studentId;
	}

	public void setStudentId(int studentId) {
		this.studentId = studentId;
	}

	public Subject getSubject() {
		return subject;
	}

	public void setSubject(Subject subject) {
		this.subject = subject;
	}

	public int getPoint() {
		return point;
	}

	public void setPoint(int point) {
		this.point = point;
	}

	@Override
	public String toString() {
		return "학번: " + studentId + ", " + subject.getSubjectName() + ": " + point;
	}
	
}
```

### 프로그램 전반에서 사용하는 상수 클래스

```java
package utils;

public class Define {
	public static final int KOREAN = 1001;
	public static final int MATH = 2001;
	
	public static final int AB_TYPE = 0;	//일반 과목 학점 산출 방식
	public static final int SAB_TYPE = 1;	//필수 과목 학점 산출 방식
}
```

